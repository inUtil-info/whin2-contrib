<script type="text/javascript">
    RED.nodes.registerType('whin-send',{
        category: 'network',
        color: '#25D366',
        defaults: {
            name: 	{value:""},
            auth:	{value: "", type: "whin-config"}
        },
        inputs:1,
        outputs:1,
        icon: "icons/whatsapp-logo.png",
        label: function() {
            return this.name||"whin-send";
        }
    });
</script>

<script type="text/javascript">
    RED.nodes.registerType('whin-receive',{
        category: 'network',
        color: '#25D366',
        defaults: {
            name:       {value:""},
            auth:       {value: "", type: "whin-config"}
        },
        inputs:0,
        outputs:1,
        icon: "icons/whatsapp-rev.png",
        label: function() {
            return this.name||"whin-receive";
        }
    });
</script>


<script type="text/javascript">
    RED.nodes.registerType('whin-config', {
        category: 'config',
        defaults: {
            name: { value: "", required: true },
            apikey: { value: "", required: false }
        },
        label: function () {
            return this.name;
        }
    });
</script>


<script type="text/x-red" data-template-name="whin-send">

    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
		
    <div class="form-row">
        <label for="node-input-auth"><i class="icon-tag"></i> Auth</label>
        <input type="text" id="node-input-auth" placeholder="Auth">
    </div>
		
</script>

<script type="text/x-red" data-template-name="whin-receive">

    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>

    <div class="form-row">
        <label for="node-input-auth"><i class="icon-tag"></i> Auth</label>
        <input type="text" id="node-input-auth" placeholder="Auth">
    </div>
</script>


<script type="text/x-red" data-template-name="whin-config">
    <div class="form-row">
        <label for="node-config-input-name"><i class="fa fa-globe"></i> Name</label>
        <input type="text" id="node-config-input-name">
    </div>
    <div class="form-row">
        <label for="node-config-input-apikey"><i class="fa fa-key"></i> ApiKey</label>
        <input type="text" id="node-config-input-apikey">
    </div>
</script>


<script type="text/x-red" data-help-name="whin-send">

<p>A node-red node that allow users to send a Whatsapp text to one&#39;s mobile.</p>

<h3>Inputs</h3>
<p>1. Standard Input: the text that will be sent to whatsapp.</p>
<a href="https://flows.nodered.org/node/@inutil-labs/node-red-whin-whatsapp">Please review the documentation in NR pages</a>

<h3>Output</h3>
<p>1. Standard Output: produces a "Request received" response when the message is received by the shared gateway. </p>

<h3>Details</h3>
<p>The <code>msg.payload</code> must be an object that contains a complete set of the message properties expected by whin:

 <ul>
 <li><code>payload</code> the message content</li>
 <li><code>apikey</code> the APIKey (set on the config-node</li>
 </ul>
</p>	

</script>

<script type="text/x-red" data-help-name="whin-receive">

    <p>A node-red node that allow users to receive a Whatsapp text from the mobile defined on the config.</p>
    <a href="https://flows.nodered.org/node/@inutil-labs/node-red-whin-whatsapp">Please review the documentation in NR pages</a> 

    
    <h3>Output</h3>
    <p>1. Standard Output: contains the message received, the content can be used for example as a command that is passed into a flow.</p>
    
    <h3>Details</h3>
    <p>The <code>msg.payload</code> produced as output is a string.
    
</script>        
    
